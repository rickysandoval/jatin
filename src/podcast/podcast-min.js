!function(){"use strict";var t,e,r=new(function(t){var e,r,o,n,s,a,i,p,u=(e="https://api.spotify.com/v1",r=null,o=null,n=function(t,e){return t.abort=e,t},s=function(){var t=Array.prototype.slice.call(arguments),e=t[0],r=t.slice(1);return e=e||{},r.forEach((function(t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})),e},a=function(t,e){var s=new XMLHttpRequest,a=function(o,n){var a=t.type||"GET";if(s.open(a,function(t,e){var r="";for(var o in e)if(e.hasOwnProperty(o)){var n=e[o];r+=encodeURIComponent(o)+"="+encodeURIComponent(n)+"&"}return r.length>0&&(t=t+"?"+(r=r.substring(0,r.length-1))),t}(t.url,t.params)),r&&s.setRequestHeader("Authorization","Bearer "+r),s.onreadystatechange=function(){if(4===s.readyState){var t=null;try{t=s.responseText?JSON.parse(s.responseText):""}catch(t){console.error(t)}s.status>=200&&s.status<300?function(t){o&&o(t),e&&e(null,t)}(t):(n&&n(s),e&&e(s,null))}},"GET"===a)s.send(null);else{var i=null;t.postData&&("image/jpeg"===t.contentType?(i=t.postData,s.setRequestHeader("Content-Type",t.contentType)):(i=JSON.stringify(t.postData),s.setRequestHeader("Content-Type","application/json"))),s.send(i)}};return e?(a(),null):function(t,e){var r;if(null!==o){var s=o.defer();t((function(t){s.resolve(t)}),(function(t){s.reject(t)})),r=s.promise}else window.Promise&&(r=new window.Promise(t));return r?new n(r,e):null}(a,(function(){s.abort()}))},i=function(t,e,r,o){var n={},i=null;return"object"==typeof e?(n=e,i=r):"function"==typeof e&&(i=e),"GET"!==(t.type||"GET")&&t.postData&&!o?t.postData=s(t.postData,n):t.params=s(t.params,n),a(t,i)},(p=function(){}).prototype={constructor:u},p.prototype.getGeneric=function(t,e){return i({url:t},e)},p.prototype.getMe=function(t,r){return i({url:e+"/me"},t,r)},p.prototype.getMySavedTracks=function(t,r){return i({url:e+"/me/tracks"},t,r)},p.prototype.addToMySavedTracks=function(t,r,o){return i({url:e+"/me/tracks",type:"PUT",postData:t},r,o)},p.prototype.removeFromMySavedTracks=function(t,r,o){return i({url:e+"/me/tracks",type:"DELETE",postData:t},r,o)},p.prototype.containsMySavedTracks=function(t,r,o){var n={url:e+"/me/tracks/contains",params:{ids:t.join(",")}};return i(n,r,o)},p.prototype.getMySavedAlbums=function(t,r){return i({url:e+"/me/albums"},t,r)},p.prototype.addToMySavedAlbums=function(t,r,o){return i({url:e+"/me/albums",type:"PUT",postData:t},r,o)},p.prototype.removeFromMySavedAlbums=function(t,r,o){return i({url:e+"/me/albums",type:"DELETE",postData:t},r,o)},p.prototype.containsMySavedAlbums=function(t,r,o){var n={url:e+"/me/albums/contains",params:{ids:t.join(",")}};return i(n,r,o)},p.prototype.getMyTopArtists=function(t,r){return i({url:e+"/me/top/artists"},t,r)},p.prototype.getMyTopTracks=function(t,r){return i({url:e+"/me/top/tracks"},t,r)},p.prototype.getMyRecentlyPlayedTracks=function(t,r){return i({url:e+"/me/player/recently-played"},t,r)},p.prototype.followUsers=function(t,r){var o={url:e+"/me/following/",type:"PUT",params:{ids:t.join(","),type:"user"}};return i(o,r)},p.prototype.followArtists=function(t,r){var o={url:e+"/me/following/",type:"PUT",params:{ids:t.join(","),type:"artist"}};return i(o,r)},p.prototype.followPlaylist=function(t,r,o){return i({url:e+"/playlists/"+t+"/followers",type:"PUT",postData:{}},r,o)},p.prototype.unfollowUsers=function(t,r){var o={url:e+"/me/following/",type:"DELETE",params:{ids:t.join(","),type:"user"}};return i(o,r)},p.prototype.unfollowArtists=function(t,r){var o={url:e+"/me/following/",type:"DELETE",params:{ids:t.join(","),type:"artist"}};return i(o,r)},p.prototype.unfollowPlaylist=function(t,r){return i({url:e+"/playlists/"+t+"/followers",type:"DELETE"},r)},p.prototype.isFollowingUsers=function(t,r){var o={url:e+"/me/following/contains",type:"GET",params:{ids:t.join(","),type:"user"}};return i(o,r)},p.prototype.isFollowingArtists=function(t,r){var o={url:e+"/me/following/contains",type:"GET",params:{ids:t.join(","),type:"artist"}};return i(o,r)},p.prototype.areFollowingPlaylist=function(t,r,o){var n={url:e+"/playlists/"+t+"/followers/contains",type:"GET",params:{ids:r.join(",")}};return i(n,o)},p.prototype.getFollowedArtists=function(t,r){return i({url:e+"/me/following",type:"GET",params:{type:"artist"}},t,r)},p.prototype.getUser=function(t,r,o){var n={url:e+"/users/"+encodeURIComponent(t)};return i(n,r,o)},p.prototype.getUserPlaylists=function(t,r,o){var n;return"string"==typeof t?n={url:e+"/users/"+encodeURIComponent(t)+"/playlists"}:(n={url:e+"/me/playlists"},o=r,r=t),i(n,r,o)},p.prototype.getPlaylist=function(t,r,o){return i({url:e+"/playlists/"+t},r,o)},p.prototype.getPlaylistTracks=function(t,r,o){return i({url:e+"/playlists/"+t+"/tracks"},r,o)},p.prototype.getPlaylistCoverImage=function(t,r){return i({url:e+"/playlists/"+t+"/images"},r)},p.prototype.createPlaylist=function(t,r,o){var n={url:e+"/users/"+encodeURIComponent(t)+"/playlists",type:"POST",postData:r};return i(n,r,o)},p.prototype.changePlaylistDetails=function(t,r,o){return i({url:e+"/playlists/"+t,type:"PUT",postData:r},r,o)},p.prototype.addTracksToPlaylist=function(t,r,o,n){return i({url:e+"/playlists/"+t+"/tracks",type:"POST",postData:{uris:r}},o,n,!0)},p.prototype.replaceTracksInPlaylist=function(t,r,o){return i({url:e+"/playlists/"+t+"/tracks",type:"PUT",postData:{uris:r}},{},o)},p.prototype.reorderTracksInPlaylist=function(t,r,o,n,s){return i({url:e+"/playlists/"+t+"/tracks",type:"PUT",postData:{range_start:r,insert_before:o}},n,s)},p.prototype.removeTracksFromPlaylist=function(t,r,o){var n=r.map((function(t){return"string"==typeof t?{uri:t}:t}));return i({url:e+"/playlists/"+t+"/tracks",type:"DELETE",postData:{tracks:n}},{},o)},p.prototype.removeTracksFromPlaylistWithSnapshotId=function(t,r,o,n){var s=r.map((function(t){return"string"==typeof t?{uri:t}:t}));return i({url:e+"/playlists/"+t+"/tracks",type:"DELETE",postData:{tracks:s,snapshot_id:o}},{},n)},p.prototype.removeTracksFromPlaylistInPositions=function(t,r,o,n){return i({url:e+"/playlists/"+t+"/tracks",type:"DELETE",postData:{positions:r,snapshot_id:o}},{},n)},p.prototype.uploadCustomPlaylistCoverImage=function(t,r,o){var n={url:e+"/playlists/"+t+"/images",type:"PUT",postData:r.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return i(n,{},o)},p.prototype.getAlbum=function(t,r,o){return i({url:e+"/albums/"+t},r,o)},p.prototype.getAlbumTracks=function(t,r,o){return i({url:e+"/albums/"+t+"/tracks"},r,o)},p.prototype.getAlbums=function(t,r,o){var n={url:e+"/albums/",params:{ids:t.join(",")}};return i(n,r,o)},p.prototype.getTrack=function(t,r,o){var n={};return n.url=e+"/tracks/"+t,i(n,r,o)},p.prototype.getTracks=function(t,r,o){var n={url:e+"/tracks/",params:{ids:t.join(",")}};return i(n,r,o)},p.prototype.getArtist=function(t,r,o){return i({url:e+"/artists/"+t},r,o)},p.prototype.getArtists=function(t,r,o){var n={url:e+"/artists/",params:{ids:t.join(",")}};return i(n,r,o)},p.prototype.getArtistAlbums=function(t,r,o){return i({url:e+"/artists/"+t+"/albums"},r,o)},p.prototype.getArtistTopTracks=function(t,r,o,n){return i({url:e+"/artists/"+t+"/top-tracks",params:{country:r}},o,n)},p.prototype.getArtistRelatedArtists=function(t,r,o){return i({url:e+"/artists/"+t+"/related-artists"},r,o)},p.prototype.getFeaturedPlaylists=function(t,r){return i({url:e+"/browse/featured-playlists"},t,r)},p.prototype.getNewReleases=function(t,r){return i({url:e+"/browse/new-releases"},t,r)},p.prototype.getCategories=function(t,r){return i({url:e+"/browse/categories"},t,r)},p.prototype.getCategory=function(t,r,o){return i({url:e+"/browse/categories/"+t},r,o)},p.prototype.getCategoryPlaylists=function(t,r,o){return i({url:e+"/browse/categories/"+t+"/playlists"},r,o)},p.prototype.search=function(t,r,o,n){var s={url:e+"/search/",params:{q:t,type:r.join(",")}};return i(s,o,n)},p.prototype.searchAlbums=function(t,e,r){return this.search(t,["album"],e,r)},p.prototype.searchArtists=function(t,e,r){return this.search(t,["artist"],e,r)},p.prototype.searchTracks=function(t,e,r){return this.search(t,["track"],e,r)},p.prototype.searchPlaylists=function(t,e,r){return this.search(t,["playlist"],e,r)},p.prototype.searchShows=function(t,e,r){return this.search(t,["show"],e,r)},p.prototype.searchEpisodes=function(t,e,r){return this.search(t,["episode"],e,r)},p.prototype.getAudioFeaturesForTrack=function(t,r){var o={};return o.url=e+"/audio-features/"+t,i(o,{},r)},p.prototype.getAudioFeaturesForTracks=function(t,r){return i({url:e+"/audio-features",params:{ids:t}},{},r)},p.prototype.getAudioAnalysisForTrack=function(t,r){var o={};return o.url=e+"/audio-analysis/"+t,i(o,{},r)},p.prototype.getRecommendations=function(t,r){return i({url:e+"/recommendations"},t,r)},p.prototype.getAvailableGenreSeeds=function(t){return i({url:e+"/recommendations/available-genre-seeds"},{},t)},p.prototype.getMyDevices=function(t){return i({url:e+"/me/player/devices"},{},t)},p.prototype.getMyCurrentPlaybackState=function(t,r){return i({url:e+"/me/player"},t,r)},p.prototype.getMyCurrentPlayingTrack=function(t,r){return i({url:e+"/me/player/currently-playing"},t,r)},p.prototype.transferMyPlayback=function(t,r,o){var n=r||{};return n.device_ids=t,i({type:"PUT",url:e+"/me/player",postData:n},r,o)},p.prototype.play=function(t,r){var o="device_id"in(t=t||{})?{device_id:t.device_id}:null,n={};return["context_uri","uris","offset","position_ms"].forEach((function(e){e in t&&(n[e]=t[e])})),i({type:"PUT",url:e+"/me/player/play",params:o,postData:n},"function"==typeof t?t:{},r)},p.prototype.queue=function(t,r,o){var n="device_id"in(r=r||{})?{uri:t,device_id:r.device_id}:{uri:t};return i({type:"POST",url:e+"/me/player/queue",params:n},r,o)},p.prototype.pause=function(t,r){var o="device_id"in(t=t||{})?{device_id:t.device_id}:null;return i({type:"PUT",url:e+"/me/player/pause",params:o},t,r)},p.prototype.skipToNext=function(t,r){var o="device_id"in(t=t||{})?{device_id:t.device_id}:null;return i({type:"POST",url:e+"/me/player/next",params:o},t,r)},p.prototype.skipToPrevious=function(t,r){var o="device_id"in(t=t||{})?{device_id:t.device_id}:null;return i({type:"POST",url:e+"/me/player/previous",params:o},t,r)},p.prototype.seek=function(t,r,o){var n={position_ms:t};return"device_id"in(r=r||{})&&(n.device_id=r.device_id),i({type:"PUT",url:e+"/me/player/seek",params:n},r,o)},p.prototype.setRepeat=function(t,r,o){var n={state:t};return"device_id"in(r=r||{})&&(n.device_id=r.device_id),i({type:"PUT",url:e+"/me/player/repeat",params:n},r,o)},p.prototype.setVolume=function(t,r,o){var n={volume_percent:t};return"device_id"in(r=r||{})&&(n.device_id=r.device_id),i({type:"PUT",url:e+"/me/player/volume",params:n},r,o)},p.prototype.setShuffle=function(t,r,o){var n={state:t};return"device_id"in(r=r||{})&&(n.device_id=r.device_id),i({type:"PUT",url:e+"/me/player/shuffle",params:n},r,o)},p.prototype.getShow=function(t,r,o){var n={};return n.url=e+"/shows/"+t,i(n,r,o)},p.prototype.getShows=function(t,r,o){var n={url:e+"/shows/",params:{ids:t.join(",")}};return i(n,r,o)},p.prototype.getMySavedShows=function(t,r){return i({url:e+"/me/shows"},t,r)},p.prototype.addToMySavedShows=function(t,r,o){return i({url:e+"/me/shows",type:"PUT",postData:t},r,o)},p.prototype.removeFromMySavedShows=function(t,r,o){return i({url:e+"/me/shows",type:"DELETE",postData:t},r,o)},p.prototype.containsMySavedShows=function(t,r,o){var n={url:e+"/me/shows/contains",params:{ids:t.join(",")}};return i(n,r,o)},p.prototype.getShowEpisodes=function(t,r,o){return i({url:e+"/shows/"+t+"/episodes"},r,o)},p.prototype.getEpisode=function(t,r,o){var n={};return n.url=e+"/episodes/"+t,i(n,r,o)},p.prototype.getEpisodes=function(t,r,o){var n={url:e+"/episodes/",params:{ids:t.join(",")}};return i(n,r,o)},p.prototype.getAccessToken=function(){return r},p.prototype.setAccessToken=function(t){r=t},p.prototype.setPromiseImplementation=function(t){var e=!1;try{var r=new t((function(t){t()}));"function"==typeof r.then&&"function"==typeof r.catch&&(e=!0)}catch(t){console.error(t)}if(!e)throw new Error("Unsupported implementation of Promises/A+");o=t},p);t.exports=u}(e={path:t,exports:{},require:function(t,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==r&&e.path)}},e.exports),e.exports);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r.getShowEpisodes("6IG1OHtBSa95QpTLdiUfMW",{market:"US",limit:5,offset:5*(t-1)}).then((function(t){return t.items.forEach((function(t){var e=n(t);document.querySelector("#podcast-list").appendChild(e)})),document.querySelector("#episodes-loading-spinner").classList.add("is-hidden"),{hasMore:5===t.items.length}}))}function n(t){var e=document.createElement("li");e.classList.add("podcast__list-item");var r=document.createElement("iframe");return r.src="https://open.spotify.com/embed-podcast/episode/".concat(t.id),r.width="100%",r.height=232,r.frameborder=0,r.allowtransparency=!0,r.allow="encrypted-media",e.appendChild(r),e}window.addEventListener("load",(function(){var t,e=1;(t=!0,!t&&sessionStorage.getItem(SESSION_STORAGE_TOKEN_KEY)?Promise.resolve(sessionStorage.getItem(SESSION_STORAGE_TOKEN_KEY)):fetch("https://desolate-crag-52943.herokuapp.com/api/token").then((function(t){return t.json()})).then((function(t){return t.access_token}))).then((function(t){console.log(t),r.setAccessToken(t),o(e).then((function(t){t.hasMore&&document.querySelector("#load-more-episodes").addEventListener("click",(function(){o(++e).then((function(t){t.hasMore||document.querySelector("#load-more-episodes").classList.add("is-hidden")}))}))}))}))}))}();